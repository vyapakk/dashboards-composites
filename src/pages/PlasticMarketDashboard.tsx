import { useState } from "react";import { motion } from "framer-motion";import { AlertCircle, RefreshCw, ArrowLeft, BarChart3, Plane, Globe, Layers, Users, FlaskConical, Cog } from "lucide-react";import { useNavigate } from "react-router-dom";import { AircraftInteriorsDashboardHeader } from "@/components/aircraft-interiors/DashboardHeader";import { MainNavigation, MainTabType, TabConfig } from "@/components/aircraft-interiors/MainNavigation";import { DashboardSkeleton } from "@/components/aircraft-interiors/DashboardSkeleton";import { ScrollToTop } from "@/components/aircraft-interiors/ScrollToTop";import { MarketOverviewTab } from "@/pages/tabs/MarketOverviewTab";import { SegmentDetailTab } from "@/pages/tabs/SegmentDetailTab";import { useMarketData } from "@/hooks/useMarketData";import { Button } from "@/components/ui/button";import stratviewLogoWhite from "@/assets/stratview-logo-white.png";
const plasticTabs: TabConfig[] = [{id:"overview",label:"Market Overview",icon:BarChart3},{id:"segment3",label:"Application Type",icon:Layers},{id:"segment5",label:"Process Type",icon:Cog},{id:"segment2",label:"Aircraft Type",icon:Plane},{id:"region",label:"Region",icon:Globe},{id:"segment6",label:"Material Type",icon:FlaskConical},{id:"segment1",label:"End User",icon:Users}];
const plasticYears = Array.from({length:2034-2018+1},(_,i)=>2018+i);
const PlasticMarketDashboard = () => {const navigate=useNavigate();const[selectedYear,setSelectedYear]=useState(2025);const[activeTab,setActiveTab]=useState<MainTabType>("overview");const{data:marketData,isLoading,error,refetch}=useMarketData("/data/aircraft-interiors-plastic-market.json");if(isLoading)return<DashboardSkeleton/>;if(error||!marketData){return(<div className="flex min-h-screen flex-col items-center justify-center gap-4 p-4"><AlertCircle className="h-16 w-16 text-destructive"/><h1 className="text-2xl font-bold text-foreground">Failed to Load Data</h1><p className="text-muted-foreground">{error||"Unable to load market data"}</p><Button onClick={refetch} className="mt-4"><RefreshCw className="mr-2 h-4 w-4"/>Try Again</Button></div>);}
const getSegmentInfo=()=>{switch(activeTab){case"segment3":return{data:marketData.segment3,title:"Application Type"};case"segment5":return{data:marketData.segment5||[],title:"Process Type"};case"segment2":return{data:marketData.segment2,title:"Aircraft Type"};case"region":return{data:marketData.region,title:"Region"};case"segment6":return{data:marketData.segment6||[],title:"Material Type"};case"segment1":return{data:marketData.segment1,title:"End User"};default:return{data:marketData.segment3,title:"Application Type"};}};
const renderTabContent=()=>{if(activeTab==="overview"){return(<MarketOverviewTab marketData={marketData} selectedYear={selectedYear} onYearChange={setSelectedYear} onNavigateToTab={setActiveTab} segment1Label="End User" segment2Label="Aircraft Type" segment3Label="Application Type" segment4Label="Material Type" segment5Label="Process Type" useMillions/>);}const segmentInfo=getSegmentInfo();return(<SegmentDetailTab segmentType={activeTab} segmentData={segmentInfo.data} totalMarket={marketData.totalMarket} marketData={marketData} title={segmentInfo.title} selectedYear={selectedYear} segment1Label="End User" segment2Label="Aircraft Type" segment4Label="Material Type" segment3Label="Application Type" segment5Label="Process Type" segment6Label="Material Type" useMillions/>);};
return(<div className="aircraft-interiors-theme min-h-screen"><ScrollToTop/><AircraftInteriorsDashboardHeader title="Aircraft Interiors Plastic Market" subtitle="Global Market Research Dashboard â€¢ 2018-2034"/><main className="container mx-auto px-4 py-8"><Button variant="ghost" onClick={()=>navigate("/dataset/aircraft-interiors")} className="mb-4 text-muted-foreground hover:text-foreground"><ArrowLeft className="mr-2 h-4 w-4"/>Back to Aircraft Interiors</Button><div className="mb-8"><MainNavigation value={activeTab} onChange={setActiveTab} selectedYear={selectedYear} onYearChange={setSelectedYear} showYearSelector tabs={plasticTabs} years={plasticYears}/></div>{renderTabContent()}<motion.footer initial={{opacity:0}} animate={{opacity:1}} transition={{delay:0.8}} className="mt-12 border-t border-border pt-6"><div className="flex flex-col items-center justify-between gap-4 text-center md:flex-row md:text-left"><div><p className="text-sm text-muted-foreground">Aircraft Interiors Plastic Market Research Report</p><p className="text-xs text-muted-foreground/70">All values in US$ Million unless otherwise specified</p></div><img src={stratviewLogoWhite} alt="Stratview Research" className="h-10 w-auto"/></div></motion.footer></main></div>);};
export default PlasticMarketDashboard;
